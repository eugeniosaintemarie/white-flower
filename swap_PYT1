import os
import fitz  # PyMuPDF

def compress_pdf(input_folder, output_folder):
    if not os.path.exists(output_folder):
        os.makedirs(output_folder)

    for filename in os.listdir(input_folder):
        if filename.endswith('.pdf'):
            input_path = os.path.join(input_folder, filename)
            output_path = os.path.join(output_folder, filename)

            # Abrir el PDF
            with fitz.open(input_path) as pdf:
                # Guardar con opciones de compresión
                pdf.save(output_path, garbage=4, deflate=True)
            print(f"Archivo comprimido: {filename}")

input_folder = './pdfs_originales'   # Cambia a la ruta de tu carpeta de PDFs
output_folder = './pdfs_comprimidos' # Cambia a la carpeta donde guardarás los PDFs comprimidos

compress_pdf(input_folder, output_folder)
