import shutil
import os
import zipfile

def replicar_pdf(archivo_original, num_replicas):
    # Obtén el nombre base del archivo original sin la extensión
    nombre_base, extension = os.path.splitext(archivo_original)
    
    # Verifica que el archivo original exista
    if not os.path.isfile(archivo_original):
        print(f"El archivo {archivo_original} no existe.")
        return
    
    # Lista para almacenar los nombres de las réplicas
    replicas = []
    
    # Crea las réplicas del archivo
    for i in range(1, num_replicas + 1):
        nuevo_nombre = f"{nombre_base}_{i}{extension}"
        shutil.copy(archivo_original, nuevo_nombre)
        replicas.append(nuevo_nombre)  # Agrega el nombre de la réplica a la lista
        print(f"Archivo creado: {nuevo_nombre}")
    
    # Comprime las réplicas en un archivo ZIP
    with zipfile.ZipFile("adjunto.zip", "w") as archivo_zip:
        for replica in replicas:
            archivo_zip.write(replica)
            print(f"Archivo {replica} añadido al ZIP adjunto.zip")
    
    print("Proceso completado. Todos los archivos han sido comprimidos en adjunto.zip.")

if __name__ == "__main__":
    archivo_pdf = input("Ingresa el nombre del archivo PDF (incluyendo la extensión .pdf): ")
    cantidad_replicas = int(input("Ingresa la cantidad de réplicas que deseas crear: "))
    
    replicar_pdf(archivo_pdf, cantidad_replicas)
