import re

def extraer_cuil(file_path, output_file):
    # Expresión regular para el formato CUIL
    cuil_pattern = re.compile(r'\d{2}-\d{8}-\d{1}')
    
    with open(file_path, 'r') as file, open(output_file, 'w') as out_file:
        for line in file:
            # Verificar si la línea comienza con "0000000001;001;"
            if line.startswith("0000000001;001;"):
                # Extraer desde la posición 17 en adelante
                cuil_candidate = line[16:].strip()
                
                # Buscar el CUIL en el candidato
                cuil_match = cuil_pattern.search(cuil_candidate)
                if cuil_match:
                    cuil = cuil_match.group()
                    print(f"CUIL encontrado: {cuil}")
                    # Guardar el CUIL en el archivo de salida
                    out_file.write(cuil + '\n')

# Ruta al archivo TXT de entrada y de salida
file_path = 'ruta/al/archivo.txt'
output_file = 'ruta/al/salida_cuil.txt'
extraer_cuil(file_path, output_file)
